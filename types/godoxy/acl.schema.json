{"$schema":"http://json-schema.org/draft-07/schema#","definitions":{"ACLConfig":{"additionalProperties":false,"description":"ACL config","properties":{"allow":{"description":"Allow list","items":{"anyOf":[{"description":"IP matcher","examples":[["ip:192.168.1.1"]],"type":"string"},{"description":"CIDR matcher","examples":[["cidr:192.168.1.0/24"]],"type":"string"},{"description":"Country ISO matcher","examples":[["country:US"]],"pattern":"country:\\w{2}","type":"string"},{"description":"Timezone matcher","examples":[["tz:America/New_York"]],"pattern":"tz:\\w+\\/\\w+","type":"string"}]},"type":"array"},"allow_local":{"default":true,"description":"Allow local addresses","type":"boolean"},"default":{"default":"allow","description":"Default action","enum":["allow","deny"],"type":"string"},"deny":{"description":"Deny list","items":{"anyOf":[{"description":"IP matcher","examples":[["ip:192.168.1.1"]],"type":"string"},{"description":"CIDR matcher","examples":[["cidr:192.168.1.0/24"]],"type":"string"},{"description":"Country ISO matcher","examples":[["country:US"]],"pattern":"country:\\w{2}","type":"string"},{"description":"Timezone matcher","examples":[["tz:America/New_York"]],"pattern":"tz:\\w+\\/\\w+","type":"string"}]},"type":"array"},"log":{"description":"ACL logger","additionalProperties":false,"properties":{"keep":{"default":"30 days","description":"Retention policy","anyOf":[{"type":"string"},{"type":"string"},{"type":"string"}]},"log_allowed":{"default":false,"description":"Log allowed IPs?","type":"boolean"},"path":{"description":"Access log file path","format":"uri-reference","type":"string"},"retention":{"default":"30 days","description":"Retention policy","anyOf":[{"type":"string"},{"type":"string"},{"type":"string"}]},"rotate_interval":{"default":"24h","description":"Rotation interval","pattern":"^\\d+(?:us|ms|s|m|h|d|w|M)$","type":"string"},"stdout":{"default":false,"description":"Log to stdout","type":"boolean"}},"type":"object"},"notify":{"additionalProperties":false,"description":"ACL Summary notifer","properties":{"include_allowed":{"default":false,"description":"Include allowed IPs?","type":"boolean"},"interval":{"default":"1m","description":"Notification interval","pattern":"^\\d+(?:us|ms|s|m|h|d|w|M)$","type":"string"},"to":{"description":"Notification provider names","items":{"type":"string"},"type":"array"}},"type":"object"}},"type":"object"},"ACLLogConfig":{"additionalProperties":false,"properties":{"keep":{"default":"30 days","description":"Retention policy","anyOf":[{"type":"string"},{"type":"string"},{"type":"string"}]},"log_allowed":{"default":false,"description":"Log allowed IPs?","type":"boolean"},"path":{"description":"Access log file path","format":"uri-reference","type":"string"},"retention":{"default":"30 days","description":"Retention policy","anyOf":[{"type":"string"},{"type":"string"},{"type":"string"}]},"rotate_interval":{"default":"24h","description":"Rotation interval","pattern":"^\\d+(?:us|ms|s|m|h|d|w|M)$","type":"string"},"stdout":{"default":false,"description":"Log to stdout","type":"boolean"}},"type":"object"},"ACLMatcher":{"anyOf":[{"description":"IP matcher","examples":[["ip:192.168.1.1"]],"type":"string"},{"description":"CIDR matcher","examples":[["cidr:192.168.1.0/24"]],"type":"string"},{"description":"Country ISO matcher","examples":[["country:US"]],"pattern":"country:\\w{2}","type":"string"},{"description":"Timezone matcher","examples":[["tz:America/New_York"]],"pattern":"tz:\\w+\\/\\w+","type":"string"}]},"CIDRMatcher":{"description":"CIDR matcher","examples":[["cidr:192.168.1.0/24"]],"type":"string"},"CountryISOMatcher":{"description":"Country ISO matcher","examples":[["country:US"]],"pattern":"country:\\w{2}","type":"string"},"Duration":{"description":"Duration","pattern":"^\\d+(?:us|ms|s|m|h|d|w|M)$","type":"string"},"IPMatcher":{"description":"IP matcher","examples":[["ip:192.168.1.1"]],"type":"string"},"LogKeepDays":{"type":"string"},"LogKeepLast":{"type":"string"},"LogKeepSize":{"type":"string"},"RetentionPolicy":{"anyOf":[{"type":"string"},{"type":"string"},{"type":"string"}],"default":"30 days","description":"Retention policy"},"TimezoneMatcher":{"description":"Timezone matcher","examples":[["tz:America/New_York"]],"pattern":"tz:\\w+\\/\\w+","type":"string"},"URI":{"description":"URI","format":"uri-reference","type":"string"}},"additionalProperties":false,"description":"ACL config","properties":{"allow":{"description":"Allow list","items":{"anyOf":[{"description":"IP matcher","examples":[["ip:192.168.1.1"]],"type":"string"},{"description":"CIDR matcher","examples":[["cidr:192.168.1.0/24"]],"type":"string"},{"description":"Country ISO matcher","examples":[["country:US"]],"pattern":"country:\\w{2}","type":"string"},{"description":"Timezone matcher","examples":[["tz:America/New_York"]],"pattern":"tz:\\w+\\/\\w+","type":"string"}]},"type":"array"},"allow_local":{"default":true,"description":"Allow local addresses","type":"boolean"},"default":{"default":"allow","description":"Default action","enum":["allow","deny"],"type":"string"},"deny":{"description":"Deny list","items":{"anyOf":[{"description":"IP matcher","examples":[["ip:192.168.1.1"]],"type":"string"},{"description":"CIDR matcher","examples":[["cidr:192.168.1.0/24"]],"type":"string"},{"description":"Country ISO matcher","examples":[["country:US"]],"pattern":"country:\\w{2}","type":"string"},{"description":"Timezone matcher","examples":[["tz:America/New_York"]],"pattern":"tz:\\w+\\/\\w+","type":"string"}]},"type":"array"},"log":{"description":"ACL logger","additionalProperties":false,"properties":{"keep":{"default":"30 days","description":"Retention policy","anyOf":[{"type":"string"},{"type":"string"},{"type":"string"}]},"log_allowed":{"default":false,"description":"Log allowed IPs?","type":"boolean"},"path":{"description":"Access log file path","format":"uri-reference","type":"string"},"retention":{"default":"30 days","description":"Retention policy","anyOf":[{"type":"string"},{"type":"string"},{"type":"string"}]},"rotate_interval":{"default":"24h","description":"Rotation interval","pattern":"^\\d+(?:us|ms|s|m|h|d|w|M)$","type":"string"},"stdout":{"default":false,"description":"Log to stdout","type":"boolean"}},"type":"object"},"notify":{"additionalProperties":false,"description":"ACL Summary notifer","properties":{"include_allowed":{"default":false,"description":"Include allowed IPs?","type":"boolean"},"interval":{"default":"1m","description":"Notification interval","pattern":"^\\d+(?:us|ms|s|m|h|d|w|M)$","type":"string"},"to":{"description":"Notification provider names","items":{"type":"string"},"type":"array"}},"type":"object"}},"type":"object"}
